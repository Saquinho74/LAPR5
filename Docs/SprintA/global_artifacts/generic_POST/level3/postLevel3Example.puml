@startuml
autonumber
skinparam packageStyle rect

title Back-End post operations - Logical View LV3

participant AspnetRouter as router
participant OperationController as ctrl
participant OperationService as service
participant OperationDTO as dto
participant OperationMapper as mapper
participant OperationRepository as repo
participant Operation as domain

note over router
This diagram is a example ( US16 ) of level 3 
representation of the POST
end note


-> router: POST /operation {operation data}
activate router

router -> ctrl: createOperation(operationDTO)
activate ctrl

ctrl -> service: create(operationDTO)
activate service

service -> mapper: mapToDomain(operationDTO)
activate mapper

mapper --> domain** : <<create>>
mapper --> service : returns domain

deactivate mapper
service -> service: validate(domain)
service -> repo: save(domain)

activate repo


repo -> : insert new operation into database

repo <-- : returns success response





repo --> service : returns domain
deactivate repo
service -> mapper: mapToDTO(domain)
activate mapper
mapper --> service : returns operationDTO
deactivate mapper
service --> ctrl : returns operationDTO

deactivate service
ctrl --> router : returns operationDTO

deactivate ctrl

 <-- router  : returns success message

 deactivate router




@enduml
 